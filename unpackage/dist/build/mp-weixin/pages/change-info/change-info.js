"use strict";const e=require("../../common/vendor.js"),a=require("../../config.js"),d={data:()=>({oldPwd:"",newPwd:"",rePwd:"",avatarUrl:""}),created(){this.avatarUrl=e.index.getStorageSync("avatarUrl")},methods:{save(){this.newPwd!=this.rePwd?e.index.showToast({title:"两次密码不一致"}):e.index.request({url:a.config.url+"/user/modify",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{username:this.username,oldPassword:this.oldPwd,newPassword:this.newPwd},success:a=>{console.log(a),e.index.showToast({title:"修改成功",icon:"success"})}})}}};const t=e._export_sfc(d,[["render",function(a,d,t,r,o,s){return{a:o.avatarUrl,b:o.oldPwd,c:e.o((e=>o.oldPwd=e.detail.value)),d:o.newPwd,e:e.o((e=>o.newPwd=e.detail.value)),f:o.rePwd,g:e.o((e=>o.rePwd=e.detail.value)),h:e.o(((...e)=>s.save&&s.save(...e)))}}]]);wx.createPage(t);
