"use strict";const e=require("../../common/vendor.js"),o=require("../../config.js"),t={data:()=>({username:"",password:"",isApproved:""}),methods:{changeCheckBox(){this.isApproved=!this.isApproved},toProtocol(){e.index.navigateTo({url:"../protocol/protocol"})},handleLogin(){this.isApproved?e.index.request({url:o.config.url+"/user/login?username="+this.username+"&password="+this.password,method:"GET",success:o=>{console.log(o),1==o.data.code?(e.index.switchTab({url:"../index/index"}),e.index.setStorageSync("userId",o.data.data.id),e.index.setStorageSync("cookie",o.header["Set-Cookie"])):0==o.data.code&&e.index.showToast({title:o.data.msg,icon:"error"})}}):e.index.showToast({title:"请选择同意用户协议",icon:"none"})},toRegister(){e.index.navigateTo({url:"../register/register"})}}};const r=e._export_sfc(t,[["render",function(o,t,r,s,i,a){return{a:i.username,b:e.o((e=>i.username=e.detail.value)),c:i.password,d:e.o((e=>i.password=e.detail.value)),e:e.o(((...e)=>a.handleLogin&&a.handleLogin(...e))),f:e.o(((...e)=>a.toRegister&&a.toRegister(...e))),g:e.o(((...e)=>a.changeCheckBox&&a.changeCheckBox(...e))),h:i.isApproved,i:e.o(((...e)=>a.toProtocol&&a.toProtocol(...e)))}}]]);wx.createPage(r);
